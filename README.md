# Bias Detection in Judicial Text (Repo Revitalization Notes)

This folder is a notebook-driven ML/NLP prototype for studying **bias/fairness** in:

- **Structured sentencing outcomes** (tabular ML): `DISPOSIT` (disposition) and `SENTTOT` (sentence length)
- **Judicial text/opinion data** (NLP): CAP (Caselaw Access Project) HTML/JSON + metadata

## Directory layout

- `data/`
  - `cleaned_data_phase2.csv`: phase-2 cleaned subset used for EDA + feature engineering
  - `cleaned_data_phase3_unencoded_DISPOSIT.csv`: phase-3 engineered dataset retaining `DISPOSIT` + `SENTTOT`
  - `cleaned_data_phase3.csv`: phase-3 one-hot encoded feature matrix (generated by Notebook 3)
  - `legal_text_data.csv`: CAP-derived opinion text + metadata (generated by Notebook 6)
  - `check.csv`: earlier/debug snapshot of the dataset (includes sparse CHEM* columns)
- `cap_data/`
  - `html/`: CAP opinion HTML (extractable opinion text)
  - `json/`: CAP opinion JSON (case metadata + citations + structure)
  - `metadata/`: CAP metadata (`CasesMetadata.json` is a list; `VolumeMetadata.json` is a dict)
- `notebooks/`: analysis pipeline

## Recommended run order (reproducible pipeline)

1. `notebooks/2_Data_Exploration_Final.ipynb`
   - Produces/refreshes: `data/cleaned_data_phase2.csv`
2. `notebooks/3_Feature_Engineering.ipynb`
   - Produces/refreshes: `data/cleaned_data_phase3_unencoded_DISPOSIT.csv`
   - Produces/refreshes: `data/cleaned_data_phase3.csv`
3. `notebooks/4_Baseline_Modeling.ipynb`
   - Baseline classification/regression + simple group metrics
4. `notebooks/6_NLP_CAP.ipynb`
   - Extracts CAP metadata + opinion text, basic NLP exploration
   - Produces/refreshes: `data/legal_text_data.csv`
5. `notebooks/5_Advanced_Modeling_and_Fairness_Techniques.ipynb`
   - Guarded scaffold (only runs sections if required inputs exist)

## Environment

Install dependencies:

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

Notes:
- NLP components (`transformers`, `torch`, `spacy`, `xgboost`) are optional but included.
- If running BERT sections, you may need model downloads/caches.


